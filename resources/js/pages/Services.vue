<template>
    <div class="container-fluid instagram-profile">

        <div class="profile-header">
            <img class="avatar" :src="assets.story" alt="Masoud">
            <div class="profile-info">
                <h2>MANSORY SMART</h2>
                <p class="title">Industrial IoT | PLC & Automation</p>
                <div class="stats">
                    <div><strong>15+</strong><span>Ø³Ø§Ø¨Ù‚Ù‡</span></div>
                    <div><strong>50+</strong><span>Ù¾Ø±ÙˆÚ˜Ù‡</span></div>
                    <div><strong>Industrial</strong><span>Ú©Ø§Ø±Ø´Ù†Ø§Ø³</span></div>
                </div>
                <div class="buttons">
                    <a href="tel:09153903097" class="btn primary">ØªÙ…Ø§Ø³</a>
                    <a href="https://t.me/+989153903097" class="btn secondary">ØªÙ„Ú¯Ø±Ø§Ù…</a>
                </div>
            </div>
        </div>

        <div class="bio-section mt-2">
            <h6 class="mb-1">Ù…Ø³Ø¹ÙˆØ¯ Ù…Ù†ØµÙˆØ±ÛŒ | ÙÙ†Ø§ÙˆØ±ÛŒ Ø¯Ø± Ø®Ø¯Ù…Øª ØµÙ†Ø¹Øª</h6>
            <p class="small text-muted mb-2">
                <span> Ø¨Ø±Ù‚ ØµÙ†Ø¹ØªÛŒ â€¢ </span>
                <span> Ø·Ø±Ø§Ø­ÛŒ Ù…Ø¯Ø§Ø± â€¢ </span>
                <span> Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù†ÙˆÛŒØ³ ØµÙ†Ø¹ØªÛŒ â€¢ </span>
                <span> Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø³Ø§Ø²ÛŒ Ùˆ IOT â€¢ </span>
                <span>Ø§Ø¬Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ ØµÙ†Ø¹ØªÛŒ Ø§Ø² Û±Û³Û¸Û¹</span>
            </p>
            <p class="small">ğŸ“ Ù…Ø´Ù‡Ø¯ | Ù‡Ù…Ú©Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒØ§ÛŒ Ùˆ ÙØ§Ú©ØªÙˆØ±ÛŒ</p>
        </div>

        <!-- Skills as Stories -->
        <div class="highlights d-flex overflow-auto">
            <div class="highlight-item d-flex flex-column align-items-center"
                 v-for="(skill, index) in skills" :key="skill.name">
                <img :src="skill.icon" alt="mansory"/>
                <small class="text-center">{{ skill.name }}</small>
            </div>
        </div>

        <div class="post-tabs">
            <div class="tabs-wrapper">
                <button :class="{ active: activeTab === 'images' }" @click="activeTab = 'images'">
                    <i class="bi bi-image"></i>
                </button>
                <button :class="{ active: activeTab === 'videos' }" @click="activeTab = 'videos'">
                    <i class="bi bi-camera-video"></i>
                </button>
            </div>
        </div>
        <div class="posts">
            <template v-for="project in filteredProjects" :key="project.id">
                <!-- Ø§Ú¯Ø± Ø¹Ú©Ø³ Ø¨ÙˆØ¯ -->
                <div v-if="project.category === 'images'" class="post">
                    <img :src="project.image" alt="mansory">
                    <div class="overlay">
                        <h5>{{ project.title }}</h5>
                    </div>
                </div>
                <!-- Ø§Ú¯Ø± ÙˆÛŒØ¯ÛŒÙˆ Ø¨ÙˆØ¯ -->
                <div v-else class="video-wrapper">
                    <div class="card video-card">
                        <video controls preload="metadata" class="card-img-top">
                            <source :src="project.video" type="video/mp4">
                        </video>
                        <div class="card-body">
                            <h6 class="card-title">{{ project.title }}</h6>
                            <p class="card-text small">{{ project.desc }}</p>
                        </div>
                    </div>
                </div>
            </template>
        </div>

    </div>
</template>

<script>
export default {
    data() {
        const assets = window.assets;

        return {
            assets,
            skills: [
                { name: "PLC", icon: assets.plc },
                { name: "HMI", icon: assets.hmi },
                { name: "IOT", icon: assets.iot },
                { name: "SERVO", icon: assets.servo },
                { name: "INVERTER", icon: assets.inverter },
                { name: "CNC", icon: assets.cnc },
                { name: "LARAVEL", icon: assets.laravel },
                { name: "NODE", icon: assets.node },
                { name: "GITHUB", icon: assets.github },
                { name: "MQTT", icon: assets.mqtt },

            ],
            activeTab: 'images',
            projects: [
                { id: 1, category: 'images', title: "ØªØ§Ø¨Ù„Ùˆ Ø¨Ø±Ù‚ ØµÙ†Ø¹ØªÛŒ", image: assets.post1 },
                { id: 2, category: 'images', title: "Ø§ØªÙˆÙ…Ø§Ø³ÛŒÙˆÙ† Ø¯Ø³ØªÚ¯Ø§Ù‡", image: assets.post2 },
                { id: 3, category: 'images', title: "Ø®Ø· Ù„ÙˆÙ„Ù‡ Ù¾Ù„ÛŒ Ø§ØªÛŒÙ„Ù†", image: assets.post3 },
                { id: 4, category: 'images', title: "Ø³ÛŒØ³ØªÙ… BMS", image: assets.post4 },
                { id: 5, category: 'images', title: "Ú©Ù†ØªØ±Ù„ Ø§Ø² Ø±Ø§Ù‡ Ø¯ÙˆØ± MQTT", image: assets.post5 },
                { id: 6, category: 'images', title: "Ù‡ÙˆØ´Ù…Ù†Ø¯Ø³Ø§Ø²ÛŒ Ù…ÙˆØªÙˆØ±Ø®Ø§Ù†Ù‡", image: assets.post6 },
                // video
                { id: 7, category: 'videos', title: "Ø³ÛŒØ³ØªÙ… BMS", video: assets.vid1, desc: "Ø§Ø¬Ø±Ø§ÛŒ Ú©Ø§Ù…Ù„ Ø³ÛŒØ³ØªÙ… Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø³Ø§Ø²ÛŒ Ø³Ø§Ø®ØªÙ…Ø§Ù†" },
                { id: 8, category: 'videos', title: "Ú©Ù†ØªØ±Ù„ MQTT", video: assets.vid2, desc: "Ú©Ù†ØªØ±Ù„ Ø§Ø² Ø±Ø§Ù‡ Ø¯ÙˆØ± Ø¨Ø§ Ø¨Ø±ÙˆÚ©Ø± MQTT" },
            ]
        };
    },

    computed: {
        filteredProjects() {
            return this.projects.filter(
                p => p.category === this.activeTab
            );
        }
    }
}
</script>

<style scoped>
.instagram-profile {
    max-width: 600px;
    margin: auto;
    padding: 10px 2px 2px;
    font-family: sans-serif;
}
.profile-header {
    display: flex;
    gap: 20px;
    align-items: center;
}
.avatar {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    object-fit: contain ;
    border: 3px solid  #6366f1;
    margin-right: 5px;
}
.profile-info h2 {
    margin: 0;
}
.title {
    color: #aaa;
    font-size: 13px;
}
.stats {
    display: flex;
    gap: 30px;
    margin: 15px 5px;
}
.stats div {
    text-align: center;
    font-size: 13px;
}
.stats span {
    display: block;
    font-size: 11px;
    color: #aaa;
}
.buttons {
    display: flex;
    gap: 10px;
}
.btn {
    padding: 6px 14px;
    border-radius: 8px;
    font-size: 13px;
    text-decoration: none;
}
.primary {
    background: #6366f1;
    color: #fff;
}
.secondary {
    background: #2a2a30;
    color: #fff;
}
.bio-section {
    margin-bottom: 15px;
    margin-right: 10px;
}
.highlights {
    gap: 15px;
}
.highlights::-webkit-scrollbar {
    display: none;             /* Chrome, Safari, Opera */
}
.highlight-item {
    min-width: 80px;          /* Ø¹Ø±Ø¶ Ø«Ø§Ø¨Øª Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù‡Ø§ÛŒÙ„Ø§ÛŒØª */
    flex: 0 0 auto;
    text-align: center;
}
.highlight-item img {
    width: 65px;
    height: 65px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid #0c26ca;
}
.post-tabs {
    justify-content: center;
    margin-top: 20px;
}
.tabs-wrapper {
    display: flex;
    border-radius: 12px;
}
.tabs-wrapper button {
    flex: 1;
    border: none;
    background: transparent;
    color: #0c26ca;
    transition: .15s ease;
}
.post-tabs button.active {
    border-bottom: 2px solid #6366f1;
}
.post-tabs button i {
    font-size: 20px;
}
.posts {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 5px;
    margin-top: 10px;
}
.post {
    position: relative;
    overflow: hidden;
    border-radius: 10px;
}
.post img {
    width: 100%;
    height: 250px;
    object-fit: fill;
}
.overlay {
    position: absolute;
    bottom: 0;
    width: 100%;
    padding: 6px;
    background: linear-gradient(to top, rgba(0,0,0,.7), transparent);
    font-size: 12px;
    color: silver;
}
.video-wrapper {
    grid-column: 1 / -1;
}
.video-card {
    border-radius: 12px;
    overflow: hidden;
}
.video-card video {
    width: 100%;
    height: 300px;
    object-fit: cover;
    border-radius: 10px;
}
</style>

